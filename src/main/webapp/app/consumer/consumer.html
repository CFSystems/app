<div ng-controller="ConsumerController" ng-init="init()">
	<h1>Cadastro de Clientes</h1>

	<div class="row" style="margin-bottom: 15px;">
		<div class="col-sm-4">
			<button type="button" class="btn btn-primary" data-toggle="modal"
				data-target="#myModal">Adicionar</button>
		</div>
		<div class="col-sm-4 col-sm-offset-4">
			<div class="input-group">
				<span class="input-group-addon" id="search">
					<span class="glyphicon glyphicon-search"></span>
				</span>
				<input type="text"
					class="form-control" placeholder="Procurar"
					aria-describedby="search" ng-model="searchKey">
			</div>
		</div>
	</div>

	<div class="table-responsive">
		<table class="table table-hover" id="table">
			<thead>
				<tr>
					<th>ID</th>
					<th>Nome</th>
					<th>Documento</th>
					<th>Telefone</th>
					<th>E-mail</th>
					<th width="1%"></th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="consumer in listConsumers | filter:searchKey">
					<td>{{consumer.id}}</td>
					<td>{{consumer.name}}</td>
					<td>{{consumer.document}}</td>
					<td>{{consumer.phoneNumber}}</td>
					<td>{{consumer.email}}</td>
					<td nowrap="nowrap">
						<button data-toggle="modal" data-target="#myModal" ng-click="editConsumer(consumer)" 
							title="Editar" class="btn btn-default btn-sm ">
							<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
						</button>
						<button ng-click="deleteConsumer(consumer)"
							title="Excluir" class="btn btn-danger btn-sm ">
							<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
						</button>
					</td>
				</tr>
			</tbody>
		</table>
	</div>

	<div class="modal fade" id="myModal" tabindex="-1" role="dialog">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title text-center">Novo Cliente</h4>
				</div>
				<form class="form-horizontal">
					<div class="modal-body">
						<input type="hidden" id="codigo" class="form-control" 
							ng-model="consumer.id" placeholder="Código" />

						<div class="control-group">
							<label for="name" class="control-label">Nome</label> 
							<input type="text" id="name" class="form-control" 
								ng-model="consumer.name" placeholder="Nome" />
						</div>
						<div class="control-group">
							<label for="document" class="control-label">Documento</label> 
							<input type="text" id="document" class="form-control" 
								ng-model="consumer.document" placeholder="Documento" />
						</div>
						<div class="control-group">
							<label for="phoneNumber"  class="control-label">Número Telefone</label> 
							<input
								type="text" id="phoneNumber" class="form-control"
								ng-model="consumer.phoneNumber" placeholder="Número Telefone" />
						</div>
						<div class="control-group">
							<label for="email" class="control-label">E-mail</label> 
							<input type="email" id="email" class="form-control" 
								ng-model="consumer.email" placeholder="E-mail" />
						</div>
						<div class="control-group">
							<label for="password" class="control-label">Senha</label> 
							<input type="password" id="password" class="form-control" 
								ng-model="consumer.password" placeholder="Senha" />
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
						<button type="button" class="btn btn-success"
							ng-click="saveConsumer()">Salvar</button>
					</div>
				</form>
			</div>
		</div>
	</div>

	<script type="text/javascript">
		$('.modal').on('hidden.bs.modal', function(){
	    	$(this).find('form')[0].reset();
		});
	</script>
</div>



